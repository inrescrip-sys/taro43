<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>üîÆ –û—Ä–∞–∫—É–ª –¢–∞—Ä–æ - –¢–≤–æ–π –ø—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –≤ –º–∏—Ä–µ –º–∞–≥–∏–∏</title>
    <meta name="description" content="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥–∞–¥–∞–Ω–∏—è –Ω–∞ –¢–∞—Ä–æ, —Ö—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä, –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—è –∏ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#8a2be2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Cinzel:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #8a2be2;
            --primary-dark: #6a1bb2;
            --secondary: #ffd700;
            --accent: #ff6b9d;
            --success: #10b981;
            --error: #ef4444;
            --dark: #0f0f23;
            --card-bg: rgba(20, 20, 40, 0.85);
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
            --premium-gradient: linear-gradient(135deg, #ffd700, #ff6b9d, #8a2be2);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.85);
            --text-muted: rgba(255, 255, 255, 0.6);
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow-x: hidden;
            position: fixed;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a3e 100%);
            color: var(--text-primary);
            overscroll-behavior: none;
            -webkit-overflow-scrolling: touch;
        }

        /* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .app-wrapper {
            width: 100%;
            height: 100vh;
            height: 100dvh;
            position: fixed;
            top: 0;
            left: 0;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }

        .bg-effects {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }

        .bg-gradient {
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 20% 30%, rgba(138, 43, 226, 0.2) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(255, 107, 157, 0.15) 0%, transparent 50%);
            animation: bgFloat 20s infinite alternate;
        }

        @keyframes bgFloat {
            0% { transform: translate(-10%, -10%); }
            100% { transform: translate(10%, 10%); }
        }

        .app-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 12px;
            padding-bottom: 80px;
            position: relative;
            z-index: 1;
        }

        /* –®–∞–ø–∫–∞ —Å –ø—Ä–µ–º–∏—É–º –∫–Ω–æ–ø–∫–æ–π */
        .app-header {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
        }

        .header-title {
            flex: 1;
        }

        .header-title h1 {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            background: var(--premium-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }

        .header-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .premium-btn {
            background: var(--premium-gradient);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
            transition: transform 0.2s;
        }

        .premium-btn:active {
            transform: scale(0.95);
        }

        /* –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
        .user-profile {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        .user-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--premium-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .user-info-text {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .user-level-text {
            font-size: 0.85rem;
            color: var(--secondary);
        }

        .xp-bar {
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .xp-fill {
            height: 100%;
            background: var(--premium-gradient);
            transition: width 0.5s;
        }

        .xp-text {
            text-align: right;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* –ß–∞—Ç —Å –æ—Ä–∞–∫—É–ª–æ–º –Ω–∞ –≥–ª–∞–≤–Ω–æ–π */
        .oracle-chat-widget {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        .chat-header-widget {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--glass-border);
        }

        .chat-status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-messages-widget {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 12px;
        }

        .chat-message {
            background: rgba(138, 43, 226, 0.2);
            padding: 10px;
            border-radius: 12px;
            margin-bottom: 8px;
            font-size: 0.875rem;
            line-height: 1.4;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 8px;
        }

        .chat-input-field {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            padding: 10px;
            border-radius: 20px;
            color: white;
            font-size: 0.875rem;
        }

        .chat-send-button {
            background: var(--primary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ 2 —Ä—è–¥–∞ */
        .nav-container {
            margin-bottom: 16px;
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .nav-tab {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-tab.active {
            background: var(--primary);
            border-color: var(--primary);
        }

        .nav-tab-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        .nav-tab-label {
            font-size: 0.7rem;
            font-weight: 600;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .dashboard-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px 12px;
            text-align: center;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .dashboard-card:active {
            transform: scale(0.95);
        }

        .dashboard-card-icon {
            font-size: 2.5rem;
            margin-bottom: 8px;
        }

        .dashboard-card-title {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .dashboard-card-desc {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 24px;
            max-width: 500px;
            width: 100%;
            border: 1px solid var(--glass-border);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            color: var(--secondary);
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        /* –ü—Ä–µ–º–∏—É–º —Ç–∞—Ä–∏—Ñ—ã */
        .premium-plans {
            display: grid;
            gap: 12px;
            margin: 20px 0;
        }

        .premium-plan {
            background: var(--glass);
            border: 2px solid var(--glass-border);
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .premium-plan.selected {
            border-color: var(--secondary);
            background: rgba(255, 215, 0, 0.1);
        }

        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .plan-name {
            font-weight: 600;
            font-size: 1rem;
        }

        .plan-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--secondary);
        }

        .plan-features {
            font-size: 0.8rem;
            color: var(--text-muted);
            line-height: 1.4;
        }

        .payment-btn {
            width: 100%;
            padding: 14px;
            background: var(--premium-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 16px;
        }

        /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ—Å–µ—â–µ–Ω–∏–π */
        .daily-calendar {
            background: var(--glass);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--glass-border);
        }

        .calendar-title {
            font-weight: 600;
            margin-bottom: 12px;
            text-align: center;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .calendar-day.checked {
            background: var(--success);
            color: white;
        }

        .calendar-day.today {
            border: 2px solid var(--secondary);
        }

        /* –†–∞—Å–∫–ª–∞–¥—ã –¢–∞—Ä–æ */
        .tarot-categories {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            margin-bottom: 16px;
            padding-bottom: 8px;
        }

        .tarot-category {
            padding: 8px 16px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            white-space: nowrap;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tarot-category.active {
            background: var(--primary);
            border-color: var(--primary);
        }

        .spreads-list {
            display: grid;
            gap: 12px;
        }

        .spread-item {
            background: var(--glass);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .spread-item:active {
            transform: scale(0.98);
        }

        .spread-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .spread-icon {
            font-size: 2rem;
        }

        .spread-info {
            flex: 1;
        }

        .spread-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .spread-desc {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å–∫–ª–∞–¥–∞ */
        .spread-result {
            background: var(--glass);
            border-radius: 16px;
            padding: 20px;
            margin-top: 16px;
            border: 1px solid var(--glass-border);
            display: none;
        }

        .spread-result.active {
            display: block;
            animation: slideUp 0.4s;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            color: var(--secondary);
            margin-bottom: 16px;
            text-align: center;
        }

        .cards-display {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .tarot-card {
            width: 70px;
            height: 110px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .result-text {
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .result-interpretation {
            background: rgba(255, 215, 0, 0.1);
            border-left: 3px solid var(--secondary);
            padding: 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            margin-bottom: 16px;
        }

        .new-reading-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            cursor: pointer;
        }

        /* –ò—Å—Ç–æ—Ä–∏—è */
        .history-list {
            display: grid;
            gap: 12px;
        }

        .history-item {
            background: var(--glass);
            border-radius: 12px;
            padding: 12px;
            border: 1px solid var(--glass-border);
        }

        .history-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .history-type {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .history-date {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .history-preview {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            max-width: 400px;
            margin: 0 auto;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            padding: 16px;
            border-left: 4px solid var(--success);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            z-index: 2000;
            animation: slideDown 0.3s;
            display: none;
        }

        .notification.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .notification.error {
            border-left-color: var(--error);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .nav-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* –°–∫—Ä—ã—Ç–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(138, 43, 226, 0.5);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="app-wrapper">
        <div class="bg-effects">
            <div class="bg-gradient"></div>
        </div>

        <div class="app-container">
            <!-- –®–∞–ø–∫–∞ -->
            <header class="app-header">
                <div class="header-title">
                    <h1>üîÆ –û—Ä–∞–∫—É–ª –¢–∞—Ä–æ</h1>
                    <p class="header-subtitle">–¢–≤–æ–π –ø—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –≤ –º–∏—Ä–µ –º–∞–≥–∏–∏</p>
                </div>
                <button class="premium-btn" onclick="openPremiumModal()">
                    üëë Premium
                </button>
            </header>

            <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="user-profile">
                <div class="user-header">
                    <div class="user-avatar">üë§</div>
                    <div class="user-info-text">
                        <div class="user-name" id="userName">–ì–æ—Å—Ç—å</div>
                        <div class="user-level-text">–£—Ä–æ–≤–µ–Ω—å <span id="userLevel">1</span></div>
                    </div>
                </div>
                <div class="xp-bar">
                    <div class="xp-fill" id="xpFill" style="width: 0%"></div>
                </div>
                <div class="xp-text"><span id="currentXP">0</span> / <span id="nextLevelXP">100</span> XP</div>
            </div>

            <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ—Å–µ—â–µ–Ω–∏–π -->
            <div class="daily-calendar" id="dailyCalendar" style="display: none;">
                <div class="calendar-title">üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ—Å–µ—â–µ–Ω–∏—è</div>
                <div class="calendar-grid" id="calendarGrid"></div>
                <div style="text-align: center; margin-top: 12px; font-size: 0.85rem; color: var(--text-muted);">
                    –ü–æ—Å–µ—â–∞–π—Ç–µ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–º–∏—É–º–∞ –Ω–∞ 1 –¥–µ–Ω—å!
                </div>
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="nav-container">
                <div class="nav-grid">
                    <div class="nav-tab active" onclick="switchTab('dashboard')">
                        <div class="nav-tab-icon">üè†</div>
                        <div class="nav-tab-label">–ì–ª–∞–≤–Ω–∞—è</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('tarot')">
                        <div class="nav-tab-icon">üÉè</div>
                        <div class="nav-tab-label">–¢–∞—Ä–æ</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('fortune')">
                        <div class="nav-tab-icon">ü•†</div>
                        <div class="nav-tab-label">–§–æ—Ä—Ç—É–Ω–∞</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('crystal')">
                        <div class="nav-tab-icon">üîÆ</div>
                        <div class="nav-tab-label">–®–∞—Ä</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('numerology')">
                        <div class="nav-tab-icon">üî¢</div>
                        <div class="nav-tab-label">–ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('history')">
                        <div class="nav-tab-icon">üìú</div>
                        <div class="nav-tab-label">–ò—Å—Ç–æ—Ä–∏—è</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('social')">
                        <div class="nav-tab-icon">üë•</div>
                        <div class="nav-tab-label">–°–æ—Ü–∏—É–º</div>
                    </div>
                    <div class="nav-tab" onclick="switchTab('astrology')">
                        <div class="nav-tab-icon">‚≠ê</div>
                        <div class="nav-tab-label">–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è</div>
                    </div>
                </div>
            </nav>

            <!-- –ì–ª–∞–≤–Ω–∞—è -->
            <div class="content-section active" id="dashboard">
                <!-- –ß–∞—Ç —Å –æ—Ä–∞–∫—É–ª–æ–º -->
                <div class="oracle-chat-widget">
                    <div class="chat-header-widget">
                        <div class="chat-status-dot"></div>
                        <strong>–û—Ä–∞–∫—É–ª –¢–∞—Ä–æ</strong>
                    </div>
                    <div class="chat-messages-widget" id="oracleChatMessages">
                        <div class="chat-message">
                            –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è! –Ø —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –æ—Ä–∞–∫—É–ª. –ó–∞–¥–∞–π –º–Ω–µ –≤–æ–ø—Ä–æ—Å –æ –±—É–¥—É—â–µ–º, –∏ —è –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ –¥—Ä–µ–≤–Ω—é—é –º—É–¥—Ä–æ—Å—Ç—å –∫–∞—Ä—Ç –¢–∞—Ä–æ. üîÆ
                        </div>
                    </div>
                    <div class="chat-input-wrapper">
                        <input type="text" class="chat-input-field" id="oracleChatInput" placeholder="–ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å –æ—Ä–∞–∫—É–ª—É...">
                        <button class="chat-send-button" onclick="sendOracleMessage()">‚û§</button>
                    </div>
                </div>

                <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
                <div class="dashboard-grid">
                    <div class="dashboard-card" onclick="openDailyReading()">
                        <div class="dashboard-card-icon">üÉè</div>
                        <div class="dashboard-card-title">–†–∞—Å–∫–ª–∞–¥ –¥–Ω—è</div>
                        <div class="dashboard-card-desc">–ö–∞—Ä—Ç–∞ –¥–Ω—è –∏ –ø—Ä–æ–≥–Ω–æ–∑</div>
                    </div>
                    <div class="dashboard-card" onclick="openCrystalBall()">
                        <div class="dashboard-card-icon">üîÆ</div>
                        <div class="dashboard-card-title">–•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä</div>
                        <div class="dashboard-card-desc">–ü—Ä–æ–∑—Ä–µ–Ω–∏–µ –≤ –±—É–¥—É—â–µ–µ</div>
                    </div>
                    <div class="dashboard-card" onclick="openFortuneCookie()">
                        <div class="dashboard-card-icon">ü•†</div>
                        <div class="dashboard-card-title">–ü–µ—á–µ–Ω—å–µ</div>
                        <div class="dashboard-card-desc">–ú—É–¥—Ä–æ—Å—Ç—å –¥–Ω—è</div>
                    </div>
                    <div class="dashboard-card" onclick="openRunes()">
                        <div class="dashboard-card-icon">·ö±</div>
                        <div class="dashboard-card-title">–†—É–Ω—ã</div>
                        <div class="dashboard-card-desc">–î—Ä–µ–≤–Ω—è—è –º–∞–≥–∏—è</div>
                    </div>
                    <div class="dashboard-card" onclick="switchTab('astrology')">
                        <div class="dashboard-card-icon">‚≠ê</div>
                        <div class="dashboard-card-title">–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è</div>
                        <div class="dashboard-card-desc">–í–ª–∏—è–Ω–∏–µ –∑–≤—ë–∑–¥</div>
                    </div>
                    <div class="dashboard-card" onclick="openHoroscope()">
                        <div class="dashboard-card-icon">‚ôà</div>
                        <div class="dashboard-card-title">–ì–æ—Ä–æ—Å–∫–æ–ø</div>
                        <div class="dashboard-card-desc">–ü—Ä–æ–≥–Ω–æ–∑ –¥–Ω—è</div>
                    </div>
                </div>
            </div>

            <!-- –¢–∞—Ä–æ -->
            <div class="content-section" id="tarot">
                <div class="tarot-categories">
                    <div class="tarot-category active" onclick="filterTarotSpreads('all')">–í—Å–µ</div>
                    <div class="tarot-category" onclick="filterTarotSpreads('love')">–õ—é–±–æ–≤—å</div>
                    <div class="tarot-category" onclick="filterTarotSpreads('career')">–ö–∞—Ä—å–µ—Ä–∞</div>
                    <div class="tarot-category" onclick="filterTarotSpreads('finance')">–§–∏–Ω–∞–Ω—Å—ã</div>
                    <div class="tarot-category" onclick="filterTarotSpreads('health')">–ó–¥–æ—Ä–æ–≤—å–µ</div>
                    <div class="tarot-category" onclick="filterTarotSpreads('spirit')">–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å</div>
                </div>

                <div class="spreads-list" id="spreadsList"></div>

                <div class="spread-result" id="spreadResult"></div>
            </div>

            <!-- –§–æ—Ä—Ç—É–Ω–∞ -->
            <div class="content-section" id="fortune">
                <div class="dashboard-grid">
                    <div class="dashboard-card" onclick="openFortuneCookie()">
                        <div class="dashboard-card-icon">ü•†</div>
                        <div class="dashboard-card-title">–ü–µ—á–µ–Ω—å–µ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º</div>
                        <div class="dashboard-card-desc">–†–∞–∑ –≤ 24 —á–∞—Å–∞</div>
                    </div>
                    <div class="dashboard-card" onclick="openPlayingCards()">
                        <div class="dashboard-card-icon">üé¥</div>
                        <div class="dashboard-card-title">–ò–≥—Ä–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã</div>
                        <div class="dashboard-card-desc">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–µ –≥–∞–¥–∞–Ω–∏–µ</div>
                    </div>
                    <div class="dashboard-card" onclick="openCoffeeCup()">
                        <div class="dashboard-card-icon">‚òï</div>
                        <div class="dashboard-card-title">–ö–æ—Ñ–µ–π–Ω–∞—è –≥—É—â–∞</div>
                        <div class="dashboard-card-desc">–î—Ä–µ–≤–Ω–∏–π —Ä–∏—Ç—É–∞–ª</div>
                    </div>
                    <div class="dashboard-card" onclick="openCandleDivination()">
                        <div class="dashboard-card-icon">üïØÔ∏è</div>
                        <div class="dashboard-card-title">–ì–∞–¥–∞–Ω–∏–µ –Ω–∞ —Å–≤–µ—á–∞—Ö</div>
                        <div class="dashboard-card-desc">–ú–∞–≥–∏—è –æ–≥–Ω—è</div>
                    </div>
                </div>
            </div>

            <!-- –•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä -->
            <div class="content-section" id="crystal">
                <div class="dashboard-grid">
                    <div class="dashboard-card" onclick="openCrystalBall()">
                        <div class="dashboard-card-icon">üîÆ</div>
                        <div class="dashboard-card-title">–•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä</div>
                        <div class="dashboard-card-desc">–í–∑–≥–ª—è–¥ –≤ –±—É–¥—É—â–µ–µ</div>
                    </div>
                    <div class="dashboard-card" onclick="openLunarCalendar()">
                        <div class="dashboard-card-icon">üåô</div>
                        <div class="dashboard-card-title">–õ—É–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</div>
                        <div class="dashboard-card-desc">–§–∞–∑—ã –ª—É–Ω—ã</div>
                    </div>
                    <div class="dashboard-card" onclick="openPendulum()">
                        <div class="dashboard-card-icon">‚öñÔ∏è</div>
                        <div class="dashboard-card-title">–ú–∞—è—Ç–Ω–∏–∫</div>
                        <div class="dashboard-card-desc">–û—Ç–≤–µ—Ç—ã –¥–∞/–Ω–µ—Ç</div>
                    </div>
                    <div class="dashboard-card" onclick="openMagicBall()">
                        <div class="dashboard-card-icon">üé±</div>
                        <div class="dashboard-card-title">–ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä</div>
                        <div class="dashboard-card-desc">8 –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
                    </div>
                </div>
            </div>

            <!-- –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è -->
            <div class="content-section" id="numerology">
                <div class="dashboard-grid">
                    <div class="dashboard-card" onclick="openLifePath()">
                        <div class="dashboard-card-icon">üî¢</div>
                        <div class="dashboard-card-title">–ß–∏—Å–ª–æ —Å—É–¥—å–±—ã</div>
                        <div class="dashboard-card-desc">–†–∞—Å—á—ë—Ç –ø–æ –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è</div>
                    </div>
                    <div class="dashboard-card" onclick="openPersonalYear()">
                        <div class="dashboard-card-icon">üìÖ</div>
                        <div class="dashboard-card-title">–õ–∏—á–Ω—ã–π –≥–æ–¥</div>
                        <div class="dashboard-card-desc">–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –≥–æ–¥</div>
                    </div>
                    <div class="dashboard-card" onclick="openNameNumber()">
                        <div class="dashboard-card-icon">‚úçÔ∏è</div>
                        <div class="dashboard-card-title">–ß–∏—Å–ª–æ –∏–º–µ–Ω–∏</div>
                        <div class="dashboard-card-desc">–í–∏–±—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏</div>
                    </div>
                    <div class="dashboard-card" onclick="openNatalChart()">
                        <div class="dashboard-card-icon">‚≠ê</div>
                        <div class="dashboard-card-title">–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</div>
                        <div class="dashboard-card-desc">–ö–∞—Ä—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</div>
                    </div>
                    <div class="dashboard-card" onclick="openCompatibility()">
                        <div class="dashboard-card-icon">üíï</div>
                        <div class="dashboard-card-title">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</div>
                        <div class="dashboard-card-desc">–ü–æ —á–∏—Å–ª–∞–º</div>
                    </div>
                    <div class="dashboard-card" onclick="openLuckyNumbers()">
                        <div class="dashboard-card-icon">üçÄ</div>
                        <div class="dashboard-card-title">–°—á–∞—Å—Ç–ª–∏–≤—ã–µ —á–∏—Å–ª–∞</div>
                        <div class="dashboard-card-desc">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —á–∏—Å–ª–∞</div>
                    </div>
                </div>
            </div>

            <!-- –ò—Å—Ç–æ—Ä–∏—è -->
            <div class="content-section" id="history">
                <div class="history-list" id="historyList">
                    <div style="text-align: center; padding: 40px 20px; color: var(--text-muted);">
                        –ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–≤–æ–µ –≥–∞–¥–∞–Ω–∏–µ!
                    </div>
                </div>
            </div>

            <!-- –°–æ—Ü–∏—É–º -->
            <div class="content-section" id="social">
                <div class="dashboard-grid" style="margin-bottom: 16px;">
                    <div class="dashboard-card">
                        <div class="dashboard-card-icon">üéØ</div>
                        <div class="dashboard-card-title">–í—Å–µ–≥–æ –≥–∞–¥–∞–Ω–∏–π</div>
                        <div class="dashboard-card-desc" id="totalReadings">0</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="dashboard-card-icon">üìÖ</div>
                        <div class="dashboard-card-title">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                        <div class="dashboard-card-desc" id="streakDays">0</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="dashboard-card-icon">üèÜ</div>
                        <div class="dashboard-card-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
                        <div class="dashboard-card-desc" id="achievements">0/20</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="dashboard-card-icon">‚è±Ô∏è</div>
                        <div class="dashboard-card-title">–í—Ä–µ–º—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</div>
                        <div class="dashboard-card-desc" id="timeSpent">0 –º–∏–Ω</div>
                    </div>
                </div>

                <button class="payment-btn" onclick="shareApp()" style="background: var(--primary);">
                    üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏
                </button>
            </div>

            <!-- –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è -->
            <div class="content-section" id="astrology">
                <div class="dashboard-grid">
                    <div class="dashboard-card" onclick="openHoroscope()">
                        <div class="dashboard-card-icon">‚ôà</div>
                        <div class="dashboard-card-title">–ì–æ—Ä–æ—Å–∫–æ–ø</div>
                        <div class="dashboard-card-desc">–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ –∑–Ω–∞–∫–∞–º</div>
                    </div>
                    <div class="dashboard-card" onclick="openTransits()">
                        <div class="dashboard-card-icon">üåç</div>
                        <div class="dashboard-card-title">–¢—Ä–∞–Ω–∑–∏—Ç—ã –ø–ª–∞–Ω–µ—Ç</div>
                        <div class="dashboard-card-desc">–í–ª–∏—è–Ω–∏–µ —Å–µ–π—á–∞—Å</div>
                    </div>
                    <div class="dashboard-card" onclick="openMoonPhase()">
                        <div class="dashboard-card-icon">üåô</div>
                        <div class="dashboard-card-title">–§–∞–∑–∞ –õ—É–Ω—ã</div>
                        <div class="dashboard-card-desc">–õ—É–Ω–Ω—ã–π —Ü–∏–∫–ª</div>
                    </div>
                    <div class="dashboard-card" onclick="openRetrograde()">
                        <div class="dashboard-card-icon">‚Ü©Ô∏è</div>
                        <div class="dashboard-card-title">–†–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ—Å—Ç—å</div>
                        <div class="dashboard-card-desc">–û–±—Ä–∞—Ç–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–µ–º–∏—É–º -->
    <div class="modal" id="premiumModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üëë Premium –¥–æ—Å—Ç—É–ø</h2>
                <button class="modal-close" onclick="closePremiumModal()">‚úï</button>
            </div>
            
            <div style="margin-bottom: 20px; text-align: center; color: var(--text-muted); font-size: 0.9rem;">
                –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
            </div>

            <div class="premium-plans">
                <div class="premium-plan" onclick="selectPlan('day')">
                    <div class="plan-header">
                        <div class="plan-name">1 –¥–µ–Ω—å</div>
                        <div class="plan-price">19 ‚ÇΩ</div>
                    </div>
                    <div class="plan-features">–ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞</div>
                </div>

                <div class="premium-plan" onclick="selectPlan('week')">
                    <div class="plan-header">
                        <div class="plan-name">–ù–µ–¥–µ–ª—è</div>
                        <div class="plan-price">99 ‚ÇΩ</div>
                    </div>
                    <div class="plan-features">14 ‚ÇΩ/–¥–µ–Ω—å ‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è 30%</div>
                </div>

                <div class="premium-plan selected" onclick="selectPlan('month')">
                    <div class="plan-header">
                        <div class="plan-name">–ú–µ—Å—è—Ü ‚≠ê</div>
                        <div class="plan-price">299 ‚ÇΩ</div>
                    </div>
                    <div class="plan-features">10 ‚ÇΩ/–¥–µ–Ω—å ‚Ä¢ –ü–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä ‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è 50%</div>
                </div>

                <div class="premium-plan" onclick="selectPlan('year')">
                    <div class="plan-header">
                        <div class="plan-name">–ì–æ–¥ üèÜ</div>
                        <div class="plan-price">1999 ‚ÇΩ</div>
                    </div>
                    <div class="plan-features">5 ‚ÇΩ/–¥–µ–Ω—å ‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã–≥–æ–¥–∞ ‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è 70%</div>
                </div>
            </div>

            <div style="margin: 20px 0; padding: 16px; background: rgba(16, 185, 129, 0.1); border-radius: 12px; font-size: 0.85rem;">
                ‚ú® –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ Premium:<br>
                ‚Ä¢ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –≥–∞–¥–∞–Ω–∏—è<br>
                ‚Ä¢ –í—Å–µ —Ä–∞—Å–∫–ª–∞–¥—ã –¢–∞—Ä–æ<br>
                ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏<br>
                ‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞<br>
                ‚Ä¢ –ù–µ—Ç —Ä–µ–∫–ª–∞–º—ã<br>
                ‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
            </div>

            <button class="payment-btn" onclick="processPremiumPayment()">
                üí≥ –û–ø–ª–∞—Ç–∏—Ç—å Premium
            </button>

            <div style="margin-top: 12px; text-align: center; font-size: 0.75rem; color: var(--text-muted);">
                –ü—Ä–∏–Ω–∏–º–∞–µ–º: –ö–∞—Ä—Ç—ã, –°–ë–ü, –ö—Ä–∏–ø—Ç–æ (TON)
            </div>
        </div>
    </div>

    <!-- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div class="modal" id="universalModal">
        <div class="modal-content" id="universalModalContent"></div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let userData = {
            name: '–ì–æ—Å—Ç—å',
            level: 1,
            xp: 0,
            nextLevelXP: 100,
            totalReadings: 0,
            dailyVisits: [],
            lastVisit: null,
            streak: 0,
            history: [],
            achievements: 0,
            isPremium: false,
            lastFortuneCookie: null
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            updateUserProfile();
            checkDailyVisit();
            initTarotSpreads();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ Enter –¥–ª—è —á–∞—Ç–∞
            document.getElementById('oracleChatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendOracleMessage();
                }
            });
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserData() {
            const saved = localStorage.getItem('tarotUserData');
            if (saved) {
                userData = { ...userData, ...JSON.parse(saved) };
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        function saveUserData() {
            localStorage.setItem('tarotUserData', JSON.stringify(userData));
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
        function updateUserProfile() {
            document.getElementById('userName').textContent = userData.name;
            document.getElementById('userLevel').textContent = userData.level;
            document.getElementById('currentXP').textContent = userData.xp;
            document.getElementById('nextLevelXP').textContent = userData.nextLevelXP;
            
            const progress = (userData.xp / userData.nextLevelXP) * 100;
            document.getElementById('xpFill').style.width = progress + '%';
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            document.getElementById('totalReadings').textContent = userData.totalReadings;
            document.getElementById('streakDays').textContent = userData.streak;
            document.getElementById('achievements').textContent = userData.achievements + '/20';
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ XP
        function addXP(amount) {
            userData.xp += amount;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
            if (userData.xp >= userData.nextLevelXP) {
                userData.xp -= userData.nextLevelXP;
                userData.level++;
                userData.nextLevelXP = Math.floor(userData.nextLevelXP * 1.5);
                
                showNotification('üéâ –ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è!', `–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è ${userData.level}!`, 'success');
            }
            
            saveUserData();
            updateUserProfile();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è
        function checkDailyVisit() {
            const today = new Date().toDateString();
            
            if (userData.lastVisit !== today) {
                userData.lastVisit = today;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–∏–∏
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                const yesterdayStr = yesterday.toDateString();
                
                if (userData.dailyVisits[userData.dailyVisits.length - 1] === yesterdayStr) {
                    userData.streak++;
                } else {
                    userData.streak = 1;
                }
                
                userData.dailyVisits.push(today);
                
                // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
                if (userData.streak === 7) {
                    userData.isPremium = true;
                    const premiumUntil = new Date();
                    premiumUntil.setDate(premiumUntil.getDate() + 1);
                    userData.premiumUntil = premiumUntil.toISOString();
                    
                    showNotification('üéÅ –ù–∞–≥—Ä–∞–¥–∞!', '–í—ã –ø–æ–ª—É—á–∏–ª–∏ Premium –Ω–∞ 1 –¥–µ–Ω—å –∑–∞ 7 –¥–Ω–µ–π –ø–æ—Å–µ—â–µ–Ω–∏–π!', 'success');
                    userData.streak = 0;
                }
                
                addXP(10);
                saveUserData();
                showDailyCalendar();
            }
        }

        // –ü–æ–∫–∞–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        function showDailyCalendar() {
            const calendar = document.getElementById('dailyCalendar');
            calendar.style.display = 'block';
            
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            
            for (let i = 0; i < 7; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';
                
                if (i < userData.streak) {
                    day.classList.add('checked');
                    day.textContent = '‚úì';
                } else {
                    day.textContent = i + 1;
                }
                
                if (i === userData.streak) {
                    day.classList.add('today');
                }
                
                grid.appendChild(day);
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabName) {
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω—É–∂–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
            event.currentTarget.classList.add('active');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
            document.getElementById(tabName).classList.add('active');
            
            // –°–∫—Ä–æ–ª–ª–∏–º –Ω–∞–≤–µ—Ä—Ö
            document.querySelector('.app-wrapper').scrollTop = 0;
        }

        // –ß–∞—Ç —Å –æ—Ä–∞–∫—É–ª–æ–º
        function sendOracleMessage() {
            const input = document.getElementById('oracleChatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            const messagesContainer = document.getElementById('oracleChatMessages');
            
            // –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userMsg = document.createElement('div');
            userMsg.className = 'chat-message';
            userMsg.style.background = 'rgba(138, 43, 226, 0.3)';
            userMsg.textContent = message;
            messagesContainer.appendChild(userMsg);
            
            input.value = '';
            
            // –û—Ç–≤–µ—Ç –æ—Ä–∞–∫—É–ª–∞
            setTimeout(() => {
                const oracleMsg = document.createElement('div');
                oracleMsg.className = 'chat-message';
                oracleMsg.textContent = getOracleResponse(message);
                messagesContainer.appendChild(oracleMsg);
                
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                addXP(5);
            }, 1000);
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ä–∞–∫—É–ª–∞
        function getOracleResponse(message) {
            const responses = [
                '–ö–∞—Ä—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏. –î–æ–≤–µ—Ä—å—Ç–µ—Å—å –∏–Ω—Ç—É–∏—Ü–∏–∏.',
                '–°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π. –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∫ –∑–Ω–∞–∫–∞–º.',
                '–≠–Ω–µ—Ä–≥–∏—è –≤—Å–µ–ª–µ–Ω–Ω–æ–π –Ω–∞ –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ. –°–º–µ–ª–æ –¥–≤–∏–≥–∞–π—Ç–µ—Å—å –≤–ø–µ—Ä—ë–¥.',
                '–û–∂–∏–¥–∞–π—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é –≤—Å—Ç—Ä–µ—á—É, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ–Ω–∏—Ç –≤–∞—à –≤–∑–≥–ª—è–¥ –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é.',
                '–í—Ä–µ–º—è –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π. –ù–µ —Å–ø–µ—à–∏—Ç–µ —Å –≤—ã–≤–æ–¥–∞–º–∏.',
                '–í–∞—à–µ –∂–µ–ª–∞–Ω–∏–µ —Å–∫–æ—Ä–æ –∏—Å–ø–æ–ª–Ω–∏—Ç—Å—è, –Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Ä–ø–µ–Ω–∏—è.',
                '–ö–∞—Ä—Ç—ã —Å–æ–≤–µ—Ç—É—é—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å—Ñ–µ—Ä—É.',
                '–õ—é–±–æ–≤—å –∏ –≥–∞—Ä–º–æ–Ω–∏—è –±–ª–∏–∑–∫–∏. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ—ë —Å–µ—Ä–¥—Ü–µ.',
                '–ü–µ—Ä–∏–æ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è. –ü—Ä–∏–º–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Ä–∞–¥–æ—Å—Ç—å—é.'
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // –†–∞—Å–∫–ª–∞–¥—ã –¢–∞—Ä–æ
        const tarotSpreads = {
            all: [
                { name: '–ö–∞—Ä—Ç–∞ –¥–Ω—è', icon: 'üÉè', category: 'all', desc: '–û–¥–Ω–∞ –∫–∞—Ä—Ç–∞ –Ω–∞ –¥–µ–Ω—å' },
                { name: '–¢—Ä–∏ –∫–∞—Ä—Ç—ã', icon: 'üîÆ', category: 'all', desc: '–ü—Ä–æ—à–ª–æ–µ-–ù–∞—Å—Ç–æ—è—â–µ–µ-–ë—É–¥—É—â–µ–µ' },
                { name: '–ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç', icon: '‚úùÔ∏è', category: 'all', desc: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–∞—Å–∫–ª–∞–¥ –Ω–∞ 10 –∫–∞—Ä—Ç' }
            ],
            love: [
                { name: '–õ—é–±–æ–≤–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫', icon: 'üíï', category: 'love', desc: '–ê–Ω–∞–ª–∏–∑ –æ—Ç–Ω–æ—à–µ–Ω–∏–π' },
                { name: '–ü—É—Ç—å –∫ —Å–µ—Ä–¥—Ü—É', icon: 'üíñ', category: 'love', desc: '–†–∞–∑–≤–∏—Ç–∏–µ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π' },
                { name: '–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å', icon: 'üíë', category: 'love', desc: '–û—Ü–µ–Ω–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞' }
            ],
            career: [
                { name: '–ö–∞—Ä—å–µ—Ä–Ω—ã–π –ø—É—Ç—å', icon: 'üíº', category: 'career', desc: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ' },
                { name: '–ù–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞', icon: 'üìä', category: 'career', desc: '–ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞' },
                { name: '–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ–µ–∫—Ç', icon: 'üöÄ', category: 'career', desc: '–û—Ü–µ–Ω–∫–∞ –±–∏–∑–Ω–µ—Å-–∏–¥–µ–∏' }
            ],
            finance: [
                { name: '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑', icon: 'üí∞', category: 'finance', desc: '–î–µ–Ω–µ–∂–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è' },
                { name: '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', icon: 'üìà', category: 'finance', desc: '–í—ã–≥–æ–¥–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è' },
                { name: '–î–æ–ª–≥–∏ –∏ —Ä–∞—Å—Ö–æ–¥—ã', icon: 'üí∏', category: 'finance', desc: '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞' }
            ],
            health: [
                { name: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è', icon: 'üè•', category: 'health', desc: '–û–±—â–µ–µ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ' },
                { name: '–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞', icon: '‚ö°', category: 'health', desc: '–£—Ä–æ–≤–µ–Ω—å –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–∏–ª' },
                { name: '–ò—Å—Ü–µ–ª–µ–Ω–∏–µ', icon: 'üíä', category: 'health', desc: '–ü—É—Ç—å –∫ –≤—ã–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏—é' }
            ],
            spirit: [
                { name: '–î—É—Ö–æ–≤–Ω—ã–π –ø—É—Ç—å', icon: 'üïâÔ∏è', category: 'spirit', desc: '–†–∞–∑–≤–∏—Ç–∏–µ —Å–æ–∑–Ω–∞–Ω–∏—è' },
                { name: '–ú–µ–¥–∏—Ç–∞—Ü–∏—è', icon: 'üßò', category: 'spirit', desc: '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≥–∞—Ä–º–æ–Ω–∏—è' },
                { name: '–ö–∞—Ä–º–∞', icon: '‚ôªÔ∏è', category: 'spirit', desc: '–ö–∞—Ä–º–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–∫–∏' }
            ]
        };

        function initTarotSpreads() {
            renderTarotSpreads('all');
        }

        function filterTarotSpreads(category) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
            document.querySelectorAll('.tarot-category').forEach(cat => {
                cat.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            renderTarotSpreads(category);
        }

        function renderTarotSpreads(category) {
            const container = document.getElementById('spreadsList');
            container.innerHTML = '';
            
            const spreads = category === 'all' 
                ? Object.values(tarotSpreads).flat()
                : tarotSpreads[category];
            
            spreads.forEach(spread => {
                const item = document.createElement('div');
                item.className = 'spread-item';
                item.onclick = () => performTarotReading(spread);
                
                item.innerHTML = `
                    <div class="spread-header">
                        <div class="spread-icon">${spread.icon}</div>
                        <div class="spread-info">
                            <div class="spread-name">${spread.name}</div>
                            <div class="spread-desc">${spread.desc}</div>
                        </div>
                    </div>
                `;
                
                container.appendChild(item);
            });
        }

        function performTarotReading(spread) {
            const resultContainer = document.getElementById('spreadResult');
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–∞—Ä—Ç
            const cards = ['üÉè', 'üé¥', 'üÄÑ', 'üé∞', 'üé≤'];
            const selectedCards = [];
            for (let i = 0; i < 3; i++) {
                selectedCards.push(cards[Math.floor(Math.random() * cards.length)]);
            }
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
            const interpretations = [
                '–ö–∞—Ä—Ç—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–µ—Ä–∏–æ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Ä–æ—Å—Ç–∞. –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –Ω–∞ –ø–æ—Ä–æ–≥–µ –≤–∞–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.',
                '–≠–Ω–µ—Ä–≥–∏—è –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–≤—ã–º –Ω–∞—á–∏–Ω–∞–Ω–∏—è–º. –°–∞–º–æ–µ –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å–º–µ–ª–æ –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ.',
                '–°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏–µ–º –∏ –æ–∂–∏–¥–∞–Ω–∏–µ–º. –¢–µ—Ä–ø–µ–Ω–∏–µ –ø—Ä–∏–Ω–µ—Å—ë—Ç —Å–≤–æ–∏ –ø–ª–æ–¥—ã.',
                '–ö–∞—Ä—Ç—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—Ç –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è—Ö, –Ω–æ –æ–Ω–∏ –ø—Ä–µ–æ–¥–æ–ª–∏–º—ã –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ.',
                '–ü–µ—Ä–∏–æ–¥ –≥–∞—Ä–º–æ–Ω–∏–∏ –∏ —É—Å–ø–µ—Ö–∞. –í–∞—à–∏ —É—Å–∏–ª–∏—è –±—É–¥—É—Ç –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω—ã.'
            ];
            
            const interpretation = interpretations[Math.floor(Math.random() * interpretations.length)];
            
            resultContainer.innerHTML = `
                <div class="result-title">${spread.name}</div>
                <div class="cards-display">
                    ${selectedCards.map(card => `<div class="tarot-card">${card}</div>`).join('')}
                </div>
                <div class="result-interpretation">
                    <strong>–¢–æ–ª–∫–æ–≤–∞–Ω–∏–µ:</strong><br>
                    ${interpretation}
                </div>
                <div class="result-text">
                    –≠—Ç–∏ –∫–∞—Ä—Ç—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≤–∞–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏. 
                    –ü–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—à–ª–æ–µ –≤–ª–∏—è–Ω–∏–µ, –≤—Ç–æ—Ä–∞—è - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, 
                    —Ç—Ä–µ—Ç—å—è - –≤–µ—Ä–æ—è—Ç–Ω–æ–µ –±—É–¥—É—â–µ–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –∫—É—Ä—Å–∞.
                </div>
                <button class="new-reading-btn" onclick="closeSpreadResult()">–ù–æ–≤–æ–µ –≥–∞–¥–∞–Ω–∏–µ</button>
            `;
            
            resultContainer.classList.add('active');
            resultContainer.scrollIntoView({ behavior: 'smooth' });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
            saveToHistory(spread.name, interpretation);
            
            userData.totalReadings++;
            addXP(20);
        }

        function closeSpreadResult() {
            document.getElementById('spreadResult').classList.remove('active');
            document.querySelector('.app-wrapper').scrollTop = 0;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
        function saveToHistory(type, result) {
            const historyItem = {
                type: type,
                result: result,
                date: new Date().toLocaleString('ru-RU')
            };
            
            userData.history.unshift(historyItem);
            if (userData.history.length > 50) {
                userData.history.pop();
            }
            
            saveUserData();
            updateHistory();
        }

        function updateHistory() {
            const historyList = document.getElementById('historyList');
            
            if (userData.history.length === 0) {
                historyList.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: var(--text-muted);">
                        –ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–≤–æ–µ –≥–∞–¥–∞–Ω–∏–µ!
                    </div>
                `;
                return;
            }
            
            historyList.innerHTML = userData.history.map(item => `
                <div class="history-item">
                    <div class="history-item-header">
                        <div class="history-type">${item.type}</div>
                        <div class="history-date">${item.date}</div>
                    </div>
                    <div class="history-preview">${item.result.substring(0, 100)}...</div>
                </div>
            `).join('');
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–∞–¥–∞–Ω–∏–π
        function openDailyReading() {
            performTarotReading({ name: '–ö–∞—Ä—Ç–∞ –¥–Ω—è', icon: 'üÉè', desc: '–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –¥–µ–Ω—å' });
            switchTab('tarot');
        }

        function openCrystalBall() {
            showModal('üîÆ –•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">üîÆ</div>
                    <p style="font-size: 1.1rem; margin-bottom: 20px;">
                        ${getOracleResponse('')}
                    </p>
                    <button class="payment-btn" onclick="closeModal()">–ù–æ–≤–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</button>
                </div>
            `);
            addXP(15);
            saveToHistory('–•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä', getOracleResponse(''));
        }

        function openFortuneCookie() {
            const now = Date.now();
            const lastCookie = userData.lastFortuneCookie;
            
            if (lastCookie && (now - lastCookie) < 24 * 60 * 60 * 1000) {
                const timeLeft = 24 * 60 * 60 * 1000 - (now - lastCookie);
                const hoursLeft = Math.floor(timeLeft / (60 * 60 * 1000));
                showNotification('‚è∞ –ü–æ–¥–æ–∂–¥–∏—Ç–µ', `–ù–æ–≤–æ–µ –ø–µ—á–µ–Ω—å–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ ${hoursLeft} —á–∞—Å–æ–≤`, 'error');
                return;
            }
            
            const fortunes = [
                '–£–¥–∞—á–∞ —É–ª—ã–±–Ω—ë—Ç—Å—è –≤–∞–º –≤ —Å–∞–º—ã–π –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.',
                '–í–∞—à–∞ –º–µ—á—Ç–∞ –±–ª–∏–∂–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤–µ—Ä–∏—Ç—å.',
                '–°–∫–æ—Ä–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –≤–∞–∂–Ω–æ–µ –∏–∑–≤–µ—Å—Ç–∏–µ.',
                '–î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ - –æ–Ω–∞ –Ω–µ –ø–æ–¥–≤–µ–¥—ë—Ç.',
                '–ù–æ–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ –ø—Ä–∏–Ω–µ—Å—ë—Ç —Ä–∞–¥–æ—Å—Ç—å –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.'
            ];
            
            const fortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            const luckyNumbers = Array.from({length: 4}, () => Math.floor(Math.random() * 49) + 1);
            
            showModal('ü•† –ü–µ—á–µ–Ω—å–µ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">ü•†</div>
                    <p style="font-size: 1.1rem; font-style: italic; margin-bottom: 20px; line-height: 1.6;">
                        "${fortune}"
                    </p>
                    <div style="margin: 20px 0;">
                        <strong>–°—á–∞—Å—Ç–ª–∏–≤—ã–µ —á–∏—Å–ª–∞:</strong><br>
                        <div style="display: flex; justify-content: center; gap: 12px; margin-top: 12px;">
                            ${luckyNumbers.map(n => `
                                <div style="width: 40px; height: 40px; background: var(--premium-gradient); 
                                     border-radius: 50%; display: flex; align-items: center; justify-content: center;
                                     font-weight: bold;">${n}</div>
                            `).join('')}
                        </div>
                    </div>
                    <button class="payment-btn" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            `);
            
            userData.lastFortuneCookie = now;
            saveUserData();
            addXP(15);
            saveToHistory('–ü–µ—á–µ–Ω—å–µ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º', fortune);
        }

        function openPlayingCards() {
            const cards = ['‚ô†Ô∏è', '‚ô£Ô∏è', '‚ô•Ô∏è', '‚ô¶Ô∏è'];
            const values = ['6', '7', '8', '9', '10', '–í', '–î', '–ö', '–¢'];
            const card = cards[Math.floor(Math.random() * cards.length)] + values[Math.floor(Math.random() * values.length)];
            
            const meanings = {
                '‚ô†Ô∏è': '–ü–∏–∫–∏ - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è—Ö, –Ω–æ –∏ –æ —Å–∏–ª–µ –∏—Ö –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å',
                '‚ô£Ô∏è': '–¢—Ä–µ—Ñ—ã - –¥–µ–Ω—å–≥–∏, –±–∏–∑–Ω–µ—Å, –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
                '‚ô•Ô∏è': '–ß–µ—Ä–≤—ã - –ª—é–±–æ–≤—å, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, —ç–º–æ—Ü–∏–∏',
                '‚ô¶Ô∏è': '–ë—É–±–Ω—ã - –Ω–æ–≤–æ—Å—Ç–∏, –ø–µ—Ä–µ–º–µ–Ω—ã, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è'
            };
            
            const suit = card.substring(0, 2);
            
            showModal('üé¥ –ò–≥—Ä–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 5rem; margin-bottom: 20px;">${card}</div>
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        ${meanings[suit]}
                    </p>
                    <button class="payment-btn" onclick="closeModal(); openPlayingCards()">–í—ã—Ç—è–Ω—É—Ç—å –¥—Ä—É–≥—É—é –∫–∞—Ä—Ç—É</button>
                </div>
            `);
            addXP(10);
        }

        function openCoffeeCup() {
            const symbols = ['‚òï –ß–∞—à–∫–∞', 'üåô –õ—É–Ω–∞', '‚≠ê –ó–≤–µ–∑–¥–∞', 'üå∏ –¶–≤–µ—Ç–æ–∫', 'ü¶ã –ë–∞–±–æ—á–∫–∞', 'üê¶ –ü—Ç–∏—Ü–∞'];
            const symbol = symbols[Math.floor(Math.random() * symbols.length)];
            
            const meanings = {
                '‚òï –ß–∞—à–∫–∞': '–í–∏–¥–∏—Ç–µ —á–∞—à–∫—É - –∂–¥–∏—Ç–µ –≥–æ—Å—Ç–µ–π –∏ —Ä–∞–¥–æ—Å—Ç–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π',
                'üåô –õ—É–Ω–∞': '–õ—É–Ω–∞ –≤ –≥—É—â–µ - —Ç–∞–π–Ω—ã —Å–∫–æ—Ä–æ —Ä–∞—Å–∫—Ä–æ—é—Ç—Å—è',
                '‚≠ê –ó–≤–µ–∑–¥–∞': '–ó–≤–µ–∑–¥–∞ –ø—Ä–µ–¥–≤–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∂–µ–ª–∞–Ω–∏–π',
                'üå∏ –¶–≤–µ—Ç–æ–∫': '–¶–≤–µ—Ç–æ–∫ - —Å–∏–º–≤–æ–ª –ª—é–±–≤–∏ –∏ –Ω–æ–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π',
                'ü¶ã –ë–∞–±–æ—á–∫–∞': '–ë–∞–±–æ—á–∫–∞ - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–º–µ–Ω—ã –∫ –ª—É—á—à–µ–º—É',
                'üê¶ –ü—Ç–∏—Ü–∞': '–ü—Ç–∏—Ü–∞ - —Ö–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ —É–∂–µ –≤ –ø—É—Ç–∏'
            };
            
            showModal('‚òï –ö–æ—Ñ–µ–π–Ω–∞—è –≥—É—â–∞', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${symbol.split(' ')[0]}</div>
                    <h3 style="margin-bottom: 16px;">${symbol}</h3>
                    <p style="font-size: 1rem; line-height: 1.6;">
                        ${meanings[symbol]}
                    </p>
                    <button class="payment-btn" onclick="closeModal(); openCoffeeCup()">–ù–æ–≤–æ–µ –≥–∞–¥–∞–Ω–∏–µ</button>
                </div>
            `);
            addXP(10);
        }

        function openCandleDivination() {
            const flames = [
                { name: '–†–æ–≤–Ω–æ–µ –ø–ª–∞–º—è', meaning: '–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ –¥–µ–ª–∞—Ö' },
                { name: '–í—ã—Å–æ–∫–æ–µ –ø–ª–∞–º—è', meaning: '–£—Å–ø–µ—Ö –∏ —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π' },
                { name: '–¢—Ä–µ–ø–µ—â—É—â–µ–µ –ø–ª–∞–º—è', meaning: '–ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å, –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è' },
                { name: '–î—ã–º–Ω–æ–µ –ø–ª–∞–º—è', meaning: '–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –Ω–∞ –ø—É—Ç–∏, –Ω–æ –æ–Ω–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã' }
            ];
            
            const flame = flames[Math.floor(Math.random() * flames.length)];
            
            showModal('üïØÔ∏è –ì–∞–¥–∞–Ω–∏–µ –Ω–∞ —Å–≤–µ—á–∞—Ö', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">üïØÔ∏è</div>
                    <h3 style="margin-bottom: 16px;">${flame.name}</h3>
                    <p style="font-size: 1rem; line-height: 1.6;">
                        ${flame.meaning}
                    </p>
                    <button class="payment-btn" onclick="closeModal(); openCandleDivination()">–ó–∞–∂–µ—á—å —Å–Ω–æ–≤–∞</button>
                </div>
            `);
            addXP(10);
        }

        function openRunes() {
            const runes = [
                { symbol: '·ö†', name: '–§–µ—Ö—É', meaning: '–ë–æ–≥–∞—Ç—Å—Ç–≤–æ, –∏–∑–æ–±–∏–ª–∏–µ, –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π —É—Å–ø–µ—Ö' },
                { symbol: '·ö¢', name: '–£—Ä—É–∑', meaning: '–°–∏–ª–∞, —ç–Ω–µ—Ä–≥–∏—è, –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏' },
                { symbol: '·ö¶', name: '–¢—É—Ä–∏—Å–∞–∑', meaning: '–ó–∞—â–∏—Ç–∞, –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π' },
                { symbol: '·ö®', name: '–ê–Ω—Å—É–∑', meaning: '–ú—É–¥—Ä–æ—Å—Ç—å, –æ–±—â–µ–Ω–∏–µ, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ' },
                { symbol: '·ö±', name: '–†–∞–π–¥–æ', meaning: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å' },
                { symbol: '·ö≤', name: '–ö–µ–Ω–∞–∑', meaning: '–ó–Ω–∞–Ω–∏–µ, –æ–∑–∞—Ä–µ–Ω–∏–µ, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ' }
            ];
            
            const rune = runes[Math.floor(Math.random() * runes.length)];
            
            showModal('·ö± –†—É–Ω—ã –≤–∏–∫–∏–Ω–≥–æ–≤', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 5rem; margin-bottom: 20px;">${rune.symbol}</div>
                    <h3 style="margin-bottom: 8px;">${rune.name}</h3>
                    <p style="font-size: 1rem; line-height: 1.6; margin-top: 16px;">
                        ${rune.meaning}
                    </p>
                    <button class="payment-btn" onclick="closeModal(); openRunes()">–í—ã—Ç—è–Ω—É—Ç—å –¥—Ä—É–≥—É—é —Ä—É–Ω—É</button>
                </div>
            `);
            addXP(15);
            saveToHistory('–†—É–Ω—ã –≤–∏–∫–∏–Ω–≥–æ–≤', `${rune.name}: ${rune.meaning}`);
        }

        function openLunarCalendar() {
            const phases = ['üåë –ù–æ–≤–æ–ª—É–Ω–∏–µ', 'üåí –†–∞—Å—Ç—É—â–∞—è –ª—É–Ω–∞', 'üåï –ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ', 'üåò –£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞'];
            const phase = phases[Math.floor(Math.random() * phases.length)];
            
            const meanings = {
                'üåë –ù–æ–≤–æ–ª—É–Ω–∏–µ': '–í—Ä–µ–º—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è',
                'üåí –†–∞—Å—Ç—É—â–∞—è –ª—É–Ω–∞': '–ü–µ—Ä–∏–æ–¥ —Ä–æ—Å—Ç–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤',
                'üåï –ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ': '–ü–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–µ–ª',
                'üåò –£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞': '–í—Ä–µ–º—è –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è –∏ –æ—á–∏—â–µ–Ω–∏—è'
            };
            
            showModal('üåô –õ—É–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${phase.split(' ')[0]}</div>
                    <h3 style="margin-bottom: 16px;">${phase}</h3>
                    <p style="font-size: 1rem; line-height: 1.6;">
                        ${meanings[phase]}
                    </p>
                    <button class="payment-btn" onclick="closeModal()">–ü–æ–Ω—è—Ç–Ω–æ</button>
                </div>
            `);
            addXP(10);
        }

        function openPendulum() {
            const answers = [
                { text: '–î–∞', emoji: '‚úÖ', color: '#10b981' },
                { text: '–ù–µ—Ç', emoji: '‚ùå', color: '#ef4444' },
                { text: '–ù–µ—è—Å–Ω–æ', emoji: '‚ùì', color: '#f59e0b' }
            ];
            
            const answer = answers[Math.floor(Math.random() * answers.length)];
            
            showModal('‚öñÔ∏è –ú–∞—è—Ç–Ω–∏–∫', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">‚öñÔ∏è</div>
                    <div style="font-size: 3rem; margin: 20px 0;">${answer.emoji}</div>
                    <h3 style="color: ${answer.color}; margin-bottom: 16px;">${answer.text}</h3>
                    <p style="font-size: 0.9rem; color: var(--text-muted);">
                        –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –º—ã—Å–ª–µ–Ω–Ω–æ –∏ —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –æ—Ç–≤–µ—Ç–µ
                    </p>
                    <button class="payment-btn" onclick="closeModal(); openPendulum()">–°–ø—Ä–æ—Å–∏—Ç—å —Å–Ω–æ–≤–∞</button>
                </div>
            `);
            addXP(10);
        }

        function openMagicBall() {
            const answers = [
                '–ë–µ—Å—Å–ø–æ—Ä–Ω–æ',
                '–û–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ –¥–∞',
                '–ú–æ–∂–µ—à—å –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω',
                '–î–∞',
                '–í–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ',
                '–°–ø—Ä–æ—Å–∏ –ø–æ–∑–∂–µ',
                '–ù–µ —É–≤–µ—Ä–µ–Ω',
                '–ù–µ—Ç'
            ];
            
            const answer = answers[Math.floor(Math.random() * answers.length)];
            
            showModal('üé± –ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 5rem; margin-bottom: 20px;">üé±</div>
                    <div style="font-size: 1.3rem; font-weight: 600; margin: 20px 0; padding: 20px; 
                         background: rgba(138, 43, 226, 0.2); border-radius: 12px;">
                        ${answer}
                    </div>
                    <button class="payment-btn" onclick="closeModal(); openMagicBall()">–°–ø—Ä–æ—Å–∏—Ç—å –µ—â—ë</button>
                </div>
            `);
            addXP(10);
        }

        // –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è
        function openLifePath() {
            showModal('üî¢ –ß–∏—Å–ª–æ —Å—É–¥—å–±—ã', `
                <div style="padding: 20px;">
                    <p style="margin-bottom: 16px;">–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —á–∏—Å–ª–∞ —Å—É–¥—å–±—ã:</p>
                    <input type="date" id="birthDate" style="width: 100%; padding: 12px; background: var(--glass); 
                           border: 1px solid var(--glass-border); border-radius: 8px; color: white; margin-bottom: 16px;">
                    <button class="payment-btn" onclick="calculateLifePath()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                    <div id="lifePathResult" style="margin-top: 20px;"></div>
                </div>
            `);
        }

        function calculateLifePath() {
            const dateInput = document.getElementById('birthDate').value;
            if (!dateInput) {
                showNotification('–û—à–∏–±–∫–∞', '–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è', 'error');
                return;
            }
            
            const date = new Date(dateInput);
            let sum = date.getDate() + (date.getMonth() + 1) + date.getFullYear();
            
            while (sum > 9 && sum !== 11 && sum !== 22) {
                sum = sum.toString().split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);
            }
            
            const meanings = {
                1: '–õ–∏–¥–µ—Ä, –Ω–æ–≤–∞—Ç–æ—Ä, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ª–∏—á–Ω–æ—Å—Ç—å',
                2: '–î–∏–ø–ª–æ–º–∞—Ç, –º–∏—Ä–æ—Ç–≤–æ—Ä–µ—Ü, –ø–∞—Ä—Ç–Ω—ë—Ä',
                3: '–¢–≤–æ—Ä–µ—Ü, –æ–ø—Ç–∏–º–∏—Å—Ç, –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å',
                4: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å, –ø—Ä–∞–∫—Ç–∏–∫, –Ω–∞–¥—ë–∂–Ω—ã–π —á–µ–ª–æ–≤–µ–∫',
                5: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫, –∞–≤–∞–Ω—Ç—é—Ä–∏—Å—Ç, —Å–≤–æ–±–æ–¥–æ–ª—é–±–µ—Ü',
                6: '–ó–∞–±–æ—Ç–ª–∏–≤—ã–π, —Å–µ–º—å—è–Ω–∏–Ω, –≥–∞—Ä–º–æ–Ω–∏–∑–∞—Ç–æ—Ä',
                7: '–ú—ã—Å–ª–∏—Ç–µ–ª—å, –∞–Ω–∞–ª–∏—Ç–∏–∫, –¥—É—Ö–æ–≤–Ω—ã–π –∏—Å–∫–∞—Ç–µ–ª—å',
                8: '–î–æ—Å—Ç–∏–≥–∞—Ç–µ–ª—å, –º–∞—Ç–µ—Ä–∏–∞–ª–∏—Å—Ç, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä',
                9: '–ì—É–º–∞–Ω–∏—Å—Ç, –∏–¥–µ–∞–ª–∏—Å—Ç, –∑–∞–≤–µ—Ä—à–∏—Ç–µ–ª—å',
                11: '–ú–∞—Å—Ç–µ—Ä-—á–∏—Å–ª–æ: –∏–Ω—Ç—É–∏—Ç–∏–≤, –¥—É—Ö–æ–≤–Ω—ã–π —É—á–∏—Ç–µ–ª—å',
                22: '–ú–∞—Å—Ç–µ—Ä-—á–∏—Å–ª–æ: —Å—Ç—Ä–æ–∏—Ç–µ–ª—å –º–µ—á—Ç—ã, –≤–∏–∑–∏–æ–Ω–µ—Ä'
            };
            
            document.getElementById('lifePathResult').innerHTML = `
                <div style="text-align: center; padding: 20px; background: rgba(138, 43, 226, 0.2); border-radius: 12px;">
                    <div style="font-size: 3rem; font-weight: bold; color: var(--secondary); margin-bottom: 12px;">
                        ${sum}
                    </div>
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        ${meanings[sum]}
                    </p>
                </div>
            `;
            
            addXP(15);
            saveToHistory('–ß–∏—Å–ª–æ —Å—É–¥—å–±—ã', `–í–∞—à–µ —á–∏—Å–ª–æ: ${sum} - ${meanings[sum]}`);
        }

        function openPersonalYear() {
            const year = new Date().getFullYear();
            const number = Math.floor(Math.random() * 9) + 1;
            
            const meanings = {
                1: '–ì–æ–¥ –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π',
                2: '–ì–æ–¥ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞',
                3: '–ì–æ–¥ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è',
                4: '–ì–æ–¥ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–ø–æ—Ä–Ω–æ–≥–æ —Ç—Ä—É–¥–∞',
                5: '–ì–æ–¥ –ø–µ—Ä–µ–º–µ–Ω –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π',
                6: '–ì–æ–¥ —Å–µ–º—å–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏',
                7: '–ì–æ–¥ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –∏ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏—è',
                8: '–ì–æ–¥ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞',
                9: '–ì–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏'
            };
            
            showModal('üìÖ –õ–∏—á–Ω—ã–π –≥–æ–¥', `
                <div style="text-align: center; padding: 20px;">
                    <h3 style="margin-bottom: 12px;">–í–∞—à –ª–∏—á–Ω—ã–π –≥–æ–¥ ${year}</h3>
                    <div style="font-size: 4rem; font-weight: bold; color: var(--secondary); margin: 20px 0;">
                        ${number}
                    </div>
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        ${meanings[number]}
                    </p>
                    <button class="payment-btn" onclick="closeModal()">–ü–æ–Ω—è—Ç–Ω–æ</button>
                </div>
            `);
            addXP(15);
        }

        function openNameNumber() {
            showModal('‚úçÔ∏è –ß–∏—Å–ª–æ –∏–º–µ–Ω–∏', `
                <div style="padding: 20px;">
                    <p style="margin-bottom: 16px;">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è:</p>
                    <input type="text" id="fullName" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á –ò–≤–∞–Ω–æ–≤" 
                           style="width: 100%; padding: 12px; background: var(--glass); 
                           border: 1px solid var(--glass-border); border-radius: 8px; color: white; margin-bottom: 16px;">
                    <button class="payment-btn" onclick="calculateNameNumber()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                    <div id="nameNumberResult" style="margin-top: 20px;"></div>
                </div>
            `);
        }

        function calculateNameNumber() {
            const name = document.getElementById('fullName').value.trim();
            if (!name) {
                showNotification('–û—à–∏–±–∫–∞', '–í–≤–µ–¥–∏—Ç–µ –∏–º—è', 'error');
                return;
            }
            
            const number = Math.floor(Math.random() * 9) + 1;
            
            const meanings = {
                1: '–ò–º—è –ª–∏–¥–µ—Ä–∞ –∏ –ø–µ—Ä–≤–æ–ø—Ä–æ—Ö–æ–¥—Ü–∞',
                2: '–ò–º—è –¥–∏–ø–ª–æ–º–∞—Ç–∞ –∏ –º–∏—Ä–æ—Ç–≤–æ—Ä—Ü–∞',
                3: '–ò–º—è —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏',
                4: '–ò–º—è –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞',
                5: '–ò–º—è —Å–≤–æ–±–æ–¥–æ–ª—é–±–∏–≤–æ–π –Ω–∞—Ç—É—Ä—ã',
                6: '–ò–º—è –∑–∞–±–æ—Ç–ª–∏–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞',
                7: '–ò–º—è –º—É–¥—Ä–µ—Ü–∞ –∏ –º—ã—Å–ª–∏—Ç–µ–ª—è',
                8: '–ò–º—è —É—Å–ø–µ—à–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞',
                9: '–ò–º—è –≥—É–º–∞–Ω–∏—Å—Ç–∞ –∏ –∏–¥–µ–∞–ª–∏—Å—Ç–∞'
            };
            
            document.getElementById('nameNumberResult').innerHTML = `
                <div style="text-align: center; padding: 20px; background: rgba(138, 43, 226, 0.2); border-radius: 12px;">
                    <div style="font-size: 3rem; font-weight: bold; color: var(--secondary); margin-bottom: 12px;">
                        ${number}
                    </div>
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        ${meanings[number]}
                    </p>
                </div>
            `;
            
            addXP(15);
        }

        function openNatalChart() {
            showModal('‚≠ê –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞', `
                <div style="padding: 20px; text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">‚≠ê</div>
                    <h3 style="margin-bottom: 16px;">–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</h3>
                    <p style="margin-bottom: 20px; line-height: 1.6;">
                        –î–ª—è —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã –Ω—É–∂–Ω—ã —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–æ–∂–¥–µ–Ω–∏—è: 
                        –¥–∞—Ç–∞, –≤—Ä–µ–º—è –∏ –º–µ—Å—Ç–æ. –í Premium –≤–µ—Ä—Å–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑.
                    </p>
                    <div style="padding: 16px; background: rgba(255, 215, 0, 0.1); border-radius: 12px; margin-bottom: 16px;">
                        <p style="font-size: 0.9rem;">
                            üåü –°–æ–ª–Ω—Ü–µ: –í–∞—à–∞ —Å—É—â–Ω–æ—Å—Ç—å –∏ –∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏–ª–∞<br>
                            üåô –õ—É–Ω–∞: –≠–º–æ—Ü–∏–∏ –∏ –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ<br>
                            ‚¨ÜÔ∏è –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç: –í–Ω–µ—à–Ω–µ–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ<br>
                        </p>
                    </div>
                    <button class="payment-btn" onclick="closeModal(); openPremiumModal()">
                        –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç—É
                    </button>
                </div>
            `);
            addXP(20);
        }

        function openCompatibility() {
            showModal('üíï –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å', `
                <div style="padding: 20px;">
                    <p style="margin-bottom: 16px;">–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è:</p>
                    <input type="date" id="date1" style="width: 100%; padding: 12px; background: var(--glass); 
                           border: 1px solid var(--glass-border); border-radius: 8px; color: white; margin-bottom: 12px;">
                    <input type="date" id="date2" style="width: 100%; padding: 12px; background: var(--glass); 
                           border: 1px solid var(--glass-border); border-radius: 8px; color: white; margin-bottom: 16px;">
                    <button class="payment-btn" onclick="calculateCompatibility()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                    <div id="compatibilityResult" style="margin-top: 20px;"></div>
                </div>
            `);
        }

        function calculateCompatibility() {
            const percent = Math.floor(Math.random() * 30) + 70;
            
            document.getElementById('compatibilityResult').innerHTML = `
                <div style="text-align: center; padding: 20px; background: rgba(255, 107, 157, 0.2); border-radius: 12px;">
                    <div style="font-size: 3rem; font-weight: bold; color: var(--accent); margin-bottom: 12px;">
                        ${percent}%
                    </div>
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        ${percent > 85 ? '–û—Ç–ª–∏—á–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å! –í—ã –¥–æ–ø–æ–ª–Ω—è–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.' :
                          percent > 75 ? '–•–æ—Ä–æ—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ï—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π.' :
                          '–°—Ä–µ–¥–Ω—è—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ü–æ—Ç—Ä–µ–±—É—é—Ç—Å—è —É—Å–∏–ª–∏—è —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω.'}
                    </p>
                </div>
            `;
            
            addXP(15);
        }

        function openLuckyNumbers() {
            const numbers = Array.from({length: 6}, () => Math.floor(Math.random() * 49) + 1);
            
            showModal('üçÄ –°—á–∞—Å—Ç–ª–∏–≤—ã–µ —á–∏—Å–ª–∞', `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">üçÄ</div>
                    <h3 style="margin-bottom: 20px;">–í–∞—à–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã–µ —á–∏—Å–ª–∞ —Å–µ–≥–æ–¥–Ω—è:</h3>
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; margin-bottom: 20px;">
                        ${numbers.map(n => `
                            <div style="width: 50px; height: 50px; background: var(--premium-gradient); 
                                 border-radius: 50%; display: flex; align-items: center; justify-content: center;
                                 font-weight: bold; font-size: 1.2rem;">${n}</div>
                        `).join('')}
                    </div>
                    <p style="font-size: 0.9rem; color: var(--text-muted);">
                        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ —á–∏—Å–ª–∞ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
                    </p>
                    <button class="payment-btn" onclick="closeModal()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            `);
            addXP(10);
        }

        // –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è
        function openHoroscope() {
            const signs = ['‚ôà –û–≤–µ–Ω', '‚ôâ –¢–µ–ª–µ—Ü', '‚ôä –ë–ª–∏–∑–Ω–µ—Ü—ã', '‚ôã –†–∞–∫', '‚ôå –õ–µ–≤', '‚ôç –î–µ–≤–∞', 
                          '‚ôé –í–µ—Å—ã', '‚ôè –°–∫–æ—Ä–ø–∏–æ–Ω', '‚ôê –°—Ç—Ä–µ–ª–µ—Ü', '‚ôë –ö–æ–∑–µ—Ä–æ–≥', '‚ôí –í–æ–¥–æ–ª–µ–π', '‚ôì –†—ã–±—ã'];
            
            let content = '<div style="padding: 20px;"><h3 style="margin-bottom: 20px; text-align: center;">–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞:</h3>';
            content += '<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">';
            
            signs.forEach(sign => {
                content += `
                    <div class="dashboard-card" onclick="showHoroscope('${sign}')" 
                         style="cursor: pointer; padding: 16px;">
                        <div style="font-size: 2rem; margin-bottom: 8px;">${sign.split(' ')[0]}</div>
                        <div style="font-size: 0.75rem;">${sign.split(' ')[1]}</div>
                    </div>
                `;
            });
            
            content += '</div></div>';
            showModal('‚ôà –ì–æ—Ä–æ—Å–∫–æ–ø', content);
        }

        function showHoroscope(sign) {
            const predictions = [
                '–°–µ–≥–æ–¥–Ω—è –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π. –≠–Ω–µ—Ä–≥–∏—è –Ω–∞ –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.',
                '–í–æ–∑–º–æ–∂–Ω—ã –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏. –ë—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –∫ –æ–±—â–µ–Ω–∏—é.',
                '–î–µ–Ω—å –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –î–æ–≤–µ—Ä—è–π—Ç–µ –∏–Ω—Ç—É–∏—Ü–∏–∏.',
                '–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –ë–ª–∏–∑–∫–∏–µ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –≤–∞—à–µ–º –≤–Ω–∏–º–∞–Ω–∏–∏.',
                '–í—Ä–µ–º—è –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è. –ù–µ –±–æ–π—Ç–µ—Å—å –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ–±—è.'
            ];
            
            const prediction = predictions[Math.floor(Math.random() * predictions.length)];
            
            showModal(`${sign} - –ì–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ —Å–µ–≥–æ–¥–Ω—è`, `
                <div style="padding: 20px; text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${sign.split(' ')[0]}</div>
                    <h3 style="margin-bottom: 16px;">${sign}</h3>
                    <p style="font-size: 1.1rem; line-height: 1.6; margin-bottom: 20px;">
                        ${prediction}
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 20px;">
                        <div style="padding: 12px; background: rgba(16, 185, 129, 0.2); border-radius: 8px;">
                            <div style="font-size: 0.75rem; margin-bottom: 4px;">–õ—é–±–æ–≤—å</div>
                            <div style="font-size: 1.3rem;">‚ù§Ô∏è</div>
                        </div>
                        <div style="padding: 12px; background: rgba(255, 215, 0, 0.2); border-radius: 8px;">
                            <div style="font-size: 0.75rem; margin-bottom: 4px;">–ö–∞—Ä—å–µ—Ä–∞</div>
                            <div style="font-size: 1.3rem;">üíº</div>
                        </div>
                        <div style="padding: 12px; background: rgba(59, 130, 246, 0.2); border-radius: 8px;">
                            <div style="font-size: 0.75rem; margin-bottom: 4px;">–ó–¥–æ—Ä–æ–≤—å–µ</div>
                            <div style="font-size: 1.3rem;">üí™</div>
                        </div>
                    </div>
                    <button class="payment-btn" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            `);
            addXP(15);
            saveToHistory('–ì–æ—Ä–æ—Å–∫–æ–ø', `${sign}: ${prediction}`);
        }

        function openTransits() {
            showModal('üåç –¢—Ä–∞–Ω–∑–∏—Ç—ã –ø–ª–∞–Ω–µ—Ç', `
                <div style="padding: 20px; text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">üåç</div>
                    <h3 style="margin-bottom: 16px;">–¢–µ–∫—É—â–∏–µ —Ç—Ä–∞–Ω–∑–∏—Ç—ã</h3>
                    <div style="text-align: left; padding: 16px; background: rgba(138, 43, 226, 0.1); border-radius: 12px;">
                        <p style="margin-bottom: 12px;">‚òâ –°–æ–ª–Ω—Ü–µ: –ü–µ—Ä–∏–æ–¥ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è</p>
                        <p style="margin-bottom: 12px;">‚òΩ –õ—É–Ω–∞: –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</p>
                        <p style="margin-bottom: 12px;">‚ôÇ –ú–∞—Ä—Å: –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —ç–Ω–µ—Ä–≥–∏—è</p>
                        <p style="margin-bottom: 12px;">‚ôÄ –í–µ–Ω–µ—Ä–∞: –ì–∞—Ä–º–æ–Ω–∏—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö</p>
                        <p style="margin-bottom: 12px;">‚òø –ú–µ—Ä–∫—É—Ä–∏–π: –û–±—â–µ–Ω–∏–µ –∏ –æ–±—É—á–µ–Ω–∏–µ</p>
                    </div>
                    <button class="payment-btn" onclick="closeModal()">–ü–æ–Ω—è—Ç–Ω–æ</button>
                </div>
            `);
            addXP(15);
        }

        function openMoonPhase() {
            const phases = [
                { name: '–ù–æ–≤–æ–ª—É–Ω–∏–µ', emoji: 'üåë', desc: '–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞' },
                { name: '–†–∞—Å—Ç—É—â–∞—è –ª—É–Ω–∞', emoji: 'üåí', desc: '–í—Ä–µ–º—è —Ä–æ—Å—Ç–∞' },
                { name: '–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ', emoji: 'üåï', desc: '–ü–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏' },
                { name: '–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞', emoji: 'üåò', desc: '–ü–µ—Ä–∏–æ–¥ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è' }
            ];
            
            const phase = phases[Math.floor(Math.random() * phases.length)];
            
            showModal('üåô –§–∞–∑–∞ –õ—É–Ω—ã', `
                <div style="padding: 20px; text-align: center;">
                    <div style="font-size: 5rem; margin-bottom: 20px;">${phase.emoji}</div>
                    <h3 style="margin-bottom: 12px;">${phase.name}</h3>
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        ${phase.desc}
                    </p>
                    <button class="payment-btn" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            `);
            addXP(10);
        }

        function openRetrograde() {
            showModal('‚Ü©Ô∏è –†–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ—Å—Ç—å', `
                <div style="padding: 20px; text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">‚Ü©Ô∏è</div>
                    <h3 style="margin-bottom: 16px;">–†–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω—ã–µ –ø–ª–∞–Ω–µ—Ç—ã</h3>
                    <p style="margin-bottom: 20px; line-height: 1.6;">
                        –°–µ–π—á–∞—Å –≤ —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ú–µ—Ä–∫—É—Ä–∏–π. 
                        –≠—Ç–æ –≤—Ä–µ–º—è –¥–ª—è –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏—è –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–µ–ª, 
                        –∞ –Ω–µ –Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
                    </p>
                    <div style="padding: 16px; background: rgba(255, 159, 10, 0.2); border-radius: 12px;">
                        <p style="font-size: 0.9rem;">
                            ‚ö†Ô∏è –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏<br>
                            ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã<br>
                            ‚ö†Ô∏è –ò–∑–±–µ–≥–∞–π—Ç–µ –∫—Ä—É–ø–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ —Ç–µ—Ö–Ω–∏–∫–∏
                        </p>
                    </div>
                    <button class="payment-btn" onclick="closeModal()">–ü–æ–Ω—è—Ç–Ω–æ</button>
                </div>
            `);
            addXP(15);
        }

        // –ü—Ä–µ–º–∏—É–º
        let selectedPlan = 'month';

        function openPremiumModal() {
            document.getElementById('premiumModal').classList.add('active');
        }

        function closePremiumModal() {
            document.getElementById('premiumModal').classList.remove('active');
        }

        function selectPlan(plan) {
            selectedPlan = plan;
            
            document.querySelectorAll('.premium-plan').forEach(p => {
                p.classList.remove('selected');
            });
            
            event.currentTarget.classList.add('selected');
        }

        function processPremiumPayment() {
            // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
            showNotification('üí≥ –û–ø–ª–∞—Ç–∞', '–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã...', 'success');
            
            // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
            setTimeout(() => {
                userData.isPremium = true;
                const premiumUntil = new Date();
                
                switch(selectedPlan) {
                    case 'day': premiumUntil.setDate(premiumUntil.getDate() + 1); break;
                    case 'week': premiumUntil.setDate(premiumUntil.getDate() + 7); break;
                    case 'month': premiumUntil.setMonth(premiumUntil.getMonth() + 1); break;
                    case 'year': premiumUntil.setFullYear(premiumUntil.getFullYear() + 1); break;
                }
                
                userData.premiumUntil = premiumUntil.toISOString();
                saveUserData();
                
                closePremiumModal();
                showNotification('üéâ –£—Å–ø–µ—à–Ω–æ!', 'Premium –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É!', 'success');
            }, 2000);
        }

        // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
        function shareApp() {
            if (navigator.share) {
                navigator.share({
                    title: '–û—Ä–∞–∫—É–ª –¢–∞—Ä–æ',
                    text: '–ü–æ–ø—Ä–æ–±—É–π —ç—Ç–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–∞–¥–∞–Ω–∏–π!',
                    url: window.location.href
                });
            } else {
                showNotification('üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è', '–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É: ' + window.location.href, 'success');
            }
            addXP(10);
        }

        // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function showModal(title, content) {
            const modal = document.getElementById('universalModal');
            const modalContent = document.getElementById('universalModalContent');
            
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h2 class="modal-title">${title}</h2>
                    <button class="modal-close" onclick="closeModal()">‚úï</button>
                </div>
                ${content}
            `;
            
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('universalModal').classList.remove('active');
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            
            notification.innerHTML = `
                <div style="display: flex; gap: 12px; align-items: start;">
                    <div style="font-size: 1.5rem;">
                        ${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; margin-bottom: 4px;">${title}</div>
                        <div style="font-size: 0.9rem; color: var(--text-secondary);">${message}</div>
                    </div>
                </div>
            `;
            
            notification.className = 'notification active ' + type;
            
            setTimeout(() => {
                notification.classList.remove('active');
            }, 3000);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∏—Ö
        document.getElementById('premiumModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePremiumModal();
            }
        });

        document.getElementById('universalModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        setTimeout(() => {
            showNotification('üîÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', '–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –º–∏—Ä –º–∞–≥–∏–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π', 'success');
        }, 1000);
    </script>
</body>
</html>
